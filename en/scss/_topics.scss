// 主題專區｜TOPIC
.topics{

  hgroup {
    width: $mobileWidth; margin: 0 auto 30px;
    text-align: center;
    .blockHeader{ margin-bottom: 18px; }
    p{ line-height: 1.6; margin: 0; font-size: 1.11rem;}
  }
  &>ul{ 
    list-style: none; margin: 0; padding: 0;
    background: $primaryColor;
    &>li{
      // flex: 0 0 50%;
      display: block;
      position: relative;margin: 0;padding: 0;
      border-bottom: 1px solid rgb(255 255 255 / .3);
      &:last-child{ border: none;}
      
      &>a {
        display: block;
        position: relative; 
        padding:30px 32px 28px;
        // height: 80vw; 
        overflow: hidden;
        text-decoration: none; color: $white;
        transition: .3s;
        // &::before {
        //   content: ''; position: absolute; left: 0;right: 0;top: 0;bottom: 0;
        //   // background: rgb(39 60 75 / .75);
        //   border: 1px solid $primaryColor;
        //   transition: .4s;
        //   z-index: 2;
        // }
        &:hover, &:focus {
          // &::before{
          //   left: 12px; right: 12px; top: 12px; bottom: 12px;
          //   // background: rgb(255 255 255 / .5);
          //   // backdrop-filter: blur(2px);
          // }
          // padding-top: 32px; padding-bottom: 30px;
          background-color: $assistant1; color: $primaryColor;
          p:last-child {
            &::before{background-color: $primaryColor;}
          }
        }
      }

      img{ display: none; }

      p{
        position: relative; z-index: 9; margin: 0;
        // position: absolute; top: 20%; text-align: center;
        &.title {
          // margin: 0 18px; width: calc(100% - 36px);
          margin: 0 auto;
          font-size: 2rem; font-weight: bold; line-height: 1.4;
        }
        &:last-child{
          // top: calc(20% + 2.8rem + 100px); padding-top: 32px; 
          margin:12px auto 0; padding-left: 64px;
          font-size: 1.11em; line-height: 1.5;
          &::before {
            content: ''; position: absolute; 
            // left: calc(50% - 12px); 
            top: .7em;
            left: 12px;
            width: 24px; height: 2px;
            background-color: $assistant1;
            transition: .2s;
          }
        }

      }
    }
  }

  @media screen and (min-width: $wwMedium){
    &>ul{
      display: flex; flex-flow: row wrap;
      background: none;

      &>li{
        flex-basis: 33.3333%; border: none;
        &>a{ 
          height: 21em; padding: 0;
          color: $primaryColor;
          &::before{
            content: ''; position: absolute; left: 0;right: 0;top: 0;bottom: 0;
            z-index: 2;
            transition: .4s;
            background: rgb(255 255 255 / .5);
            backdrop-filter: blur(2px);
          }
          &:hover, &:focus {
            color: $white;
            &::before{ 
              // left: 0; right: 0; top: 0; bottom: 0;
              background: rgb(39 60 75 / .75);
            }

            p:last-child::before { background-color: $assistant1;}
          }
        }

        img{
          display: block;object-fit: cover;
          width: 100%; height: 100%;
        }
        p{
          position: absolute; top: 20%; text-align: center;
          width: 100%;
          &.title{padding: 0 18px;}
          &:last-child{ 
            top: calc(20% + 2.8rem + 64px); 
            padding: 32px 24px 0;
            &::before {
              left: calc(50% - 12px); top: 0;
            }
          }
        }
      }
    }

  }

  @media screen and (min-width: calc($wwMedium + 100px)){
    hgroup{
      display: flex; text-align: left;
      margin-bottom: 50px;
      .blockHeader{
        flex: 0 1 auto;
        white-space: nowrap; margin-right: 7%;
      }
      p{ flex: 1 1 30%;}
    }
  }

  @media screen and (min-width: $wwNormal){
    hgroup{ width: $normalWidth;}
    &>ul{
      height: calc(50vw + 40px); 
      // min-height: 34em;
      
      &>li{
        flex:1 0 16.6666%; height: 100%;
        &>a{
          height: 100%;
          transition: .4s;
          // &::before{
          //   // background: linear-gradient( 0deg, 
          //   // rgb(255 255 255 / 1) 10px,
          //   // rgb(255 255 255 / .5) 80px, 
          //   // rgb(255 255 255 / .5) calc(50vw - 90px), 
          //   // rgb(255 255 255 / 1)  calc(50vw - 5px));
          // }
          &:hover, &:focus {
            transform: translateY(-40px);
            height: calc(50vw + 120px);
            &::before {
              background: linear-gradient(180deg,
                rgb(255 255 255 / 1) 5px,
                rgb(39 60 75 / .75) 100px,
                rgb(39 60 75 / .75) calc(50vw + 20px),
                rgb(255 255 255 / 1) calc(50vw + 115px));
            }
            p:last-child::before{ background-color: $assistant1;}
          }
        }

        p{
          top: 25%;
          &.title { font-size: calc(3.33vw - 7.2px);}
          &:last-child{top: calc(45% + 2.8rem); padding-top: 36px;}
        }
      }
    }
  }

  @media screen and (min-width: $wwMaximum){
    $hoh : calc($wwMaximum*.5);

    width: $wwMaximum; margin: 0 auto;
    &>ul{
      height: calc($hoh + 40px);
      &>li{
        &>a{ 
          // height:$hoh;
          // &::before{
          //   background: linear-gradient( 0deg, 
          //   rgb(255 255 255 / 1) 10px,
          //   rgb(255 255 255 / .5) 80px, 
          //   rgb(255 255 255 / .5) calc($hoh - 90px), 
          //   rgb(255 255 255 / 1)  calc($hoh - 5px));
          // }
          &:hover, &:focus {
            height: calc($hoh + 120px);
            &::before {
              background: linear-gradient(180deg,
                rgb(255 255 255 / 1) 5px,
                rgb(39 60 75 / .75) 100px,
                rgb(39 60 75 / .75) calc($hoh + 20px),
                rgb(255 255 255 / 1) calc($hoh + 115px));
            }
          }
        }
        p{
          &.title { font-size: 2.24rem;}
        }
      }
    }

  }


}